import { Story, Preview, Meta } from "@storybook/addon-docs/blocks";
import { select, withKnobs, boolean, object } from "@storybook/addon-knobs";
import { action } from "@storybook/addon-actions";
import readme from "./readme.md";

<Meta
  title="Molecules/Grid"
  component="p6-grid"
  parameters={{ notes: readme }}
/>

# Grid

`p6-grid` provides a grid component with templating.

<Preview>
  <Story name="Default" height="300px" decorators={[withKnobs]}>
    {() => {
      const groupdId = "p6-grid";
      const languages = ["en", "fr"];
      const kLanguage = select("Language", languages, languages[0], groupdId);
      const kLoading = boolean("Loading", false, groupdId);
      const kEmpty = boolean("Empty", false, groupdId);
      const kFirstDisabled = boolean("Disabled `First`", false, groupdId);
      const kSecondDisabled = boolean("Disabled `Second`", false, groupdId);
      const kThirdDisabled = boolean("Disabled `Third`", false, groupdId);
      const kFourthDisabled = boolean("Disabled `Fourth`", false, groupdId);
      const customContextMenu = (cells) => {
        return "Context menu exemple";
      };
      let headers = [
        {
          disabled: kFirstDisabled,
          id: "col-1",
          label: "First",
          width: 150,
        },
        { disabled: kSecondDisabled, id: "col-2", label: "Second", width: 150 },
        { disabled: kThirdDisabled, id: "col-3", label: "Third", width: 100 },
        { disabled: kFourthDisabled, id: "col-4", label: "Fourth", width: 100 },
      ];
      let rows = [
        {
          cells: [
            { editable: true, headerId: "col-2", label: "1 second cell row 1" },
            {
              align: "center",
              editable: true,
              headerId: "col-1",
              label: "1 first cell row 1",
              width: 150,
            },
            { editable: true, headerId: "col-3", label: "1 third cell row 1" },
            { editable: true, headerId: "col-4", label: "1 fourth cell row 1" },
          ],
        },
        {
          cells: [
            { editable: true, headerId: "col-2", label: "2 second cell row 2" },
            { editable: true, headerId: "col-3", label: "2 third cell row 2" },
            {
              align: "center",
              editable: true,
              headerId: "col-1",
              label: "2 first cell row 2",
              width: 150,
            },
            { editable: true, headerId: "col-4", label: "2 fourth cell row 2" },
          ],
        },
        {
          cells: [
            { editable: true, headerId: "col-2", label: "3 second cell row 3" },
            { editable: true, headerId: "col-3", label: "3 third cell row 3" },
            { editable: true, headerId: "col-4", label: "3 fourth cell row 3" },
            {
              align: "center",
              editable: true,
              headerId: "col-1",
              label: "3 first cell row 3",
              width: 150,
            },
          ],
        },
      ];
      const grid = document.createElement("p6-grid");
      grid.id = "default-grid";
      grid.lang = kLanguage;
      grid.loading = kLoading;
      grid.headers = headers;
      grid.rows = !kEmpty ? rows : [];
      grid.customContextMenu = customContextMenu;
      return grid;
    }}
  </Story>
</Preview>

<Preview>
  <Story
    name="Loading"
    height="200px"
  >
    {() => {
      let headers = [
        {id: "col-1", label: "First", width: 150},
        {id: "col-2", label: "Second", width: 150},
        {id: "col-3", label: "Third", width: 100},
        {id: "col-4", label: "Fourth", width: 100},
      ];
      let rows = [
        {
          cells: [
            { headerId: "col-2", label: "1 second cell row 1" },
            {
              align: "center",
              headerId: "col-1",
              label: "1 first cell row 1",
              width: 150,
            },
            { headerId: "col-3", label: "1 third cell row 1" },
            { headerId: "col-4", label: "1 fourth cell row 1" },
          ],
        },
      ];
      const grid = document.createElement("p6-grid");
      const body = document.createElement("p6-grid-body");
      grid.id = "default-grid";
      grid.loading = true;
      grid.headers = headers;
      grid.rows = rows;
      return grid;
    }}
  </Story>
</Preview>

<Preview>
  <Story
    name="Empty"
    height="200px"
  >
    {() => {
      let headers = [
        { id: "col-1", label: "First", width: 150 },
        { id: "col-2", label: "Second", width: 150 },
        { id: "col-3", label: "Third", width: 100 },
        { id: "col-4", label: "Fourth", width: 100 },
      ];
      const grid = document.createElement("p6-grid");
      const body = document.createElement("p6-grid-body");
      grid.id = "default-grid";
      grid.rows = [];
      grid.headers = headers;
      return grid;
    }}
  </Story>
</Preview>

<Preview>
  <Story
    name="Simple table"
    height="200px"
  >
    {() => {
      let headers = [
        { disabled: true, id: "col-1", label: "First", width: 150 },
        { disabled: true, id: "col-2", label: "Second", width: 150 },
        { disabled: true, id: "col-3", label: "Third", width: 100 },
        { disabled: true, id: "col-4", label: "Fourth", width: 100 },
      ];
      let rows = [
        {
          cells: [
            { headerId: "col-2", label: "1 second cell row 1" },
            {
              align: "center",
              headerId: "col-1",
              label: "1 first cell row 1",
              width: 150,
            },
            { headerId: "col-3", label: "1 third cell row 1" },
            { headerId: "col-4", label: "1 fourth cell row 1" },
          ],
        },
      ];
      const grid = document.createElement("p6-grid");
      const body = document.createElement("p6-grid-body");
      grid.id = "default-grid";
      grid.rows = rows;
      grid.headers = headers;
      return grid;
    }}
  </Story>
</Preview>